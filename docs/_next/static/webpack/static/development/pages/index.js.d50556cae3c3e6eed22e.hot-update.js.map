{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.d50556cae3c3e6eed22e.hot-update.js","sources":["webpack:///./components/Newsletter/Newsletter.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch';\r\n\r\nimport Section from '../Section';\r\nimport Container from '../Container';\r\nimport styles from './Newsletter.scss';\r\nimport SocialIcon from '../SocialIcon';\r\n\r\nexport default class Newsletter extends React.Component {\r\n  state = {\r\n    email: '',\r\n    disabled: false\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Section className={styles.newsletter}>\r\n        <Container className={styles.container}>\r\n          <div className={styles.titleLeft}>\r\n            <h2>Stay in touch</h2>\r\n            <p className={styles.large}>Sign up to the newsletter to get our latest news & updates. Get engaged with our community.</p>\r\n          </div>\r\n          <div className={styles.socialItems}>\r\n            <div className={styles.newsletterForm}>\r\n              <form\r\n                className={styles.fields}\r\n                action=\"https://email.macrowish.com/subscribe\"\r\n                method=\"post\"\r\n                disabled={this.state.disabled}\r\n                onSubmit={this.handleSubmit}\r\n              >\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"Your Email\"\r\n                  required\r\n                  aria-required=\"true\"\r\n                  value={this.state.email}\r\n                  onChange={this.handleChange('email')}\r\n                />\r\n                <input\r\n                  type=\"submit\"\r\n                  name=\"subscribe\"\r\n                  value=\"Sign up\"\r\n                />\r\n              </form>\r\n              <div className={styles.socialIcons}>\r\n                <SocialIcon name=\"twitter\" href=\"https://twitter.com/nOSplatform\" />\r\n                <SocialIcon name=\"reddit\" href=\"https://www.reddit.com/r/nOSplatform\" />\r\n                <SocialIcon name=\"noschat\" href=\"https://nos.chat/\" />\r\n                <SocialIcon name=\"telegram\" href=\"https://t.me/nOSchat\" />\r\n                <SocialIcon name=\"medium\" href=\"https://medium.com/nos-io\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </Section>\r\n    );\r\n  }\r\n\r\n  handleChange = (field) => (event) => {\r\n    this.setState({ [field]: event.target.value });\r\n  }\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    event.persist();\r\n    this.setState({ disabled: true }, async () => await this.submit(event));\r\n  }\r\n\r\n  submit = async (event) => {\r\n    const { email } = this.state;\r\n    const { action, method } = event.target;\r\n\r\n    const body = new FormData();\r\n    body.append('email', email);\r\n    body.append('boolean', 'true');\r\n    body.append('list', 'cqsGQa39CKWab3nHnQyeCA');\r\n\r\n    try {\r\n      const response = await fetch(action, { method, body });\r\n      const data = await response.text();\r\n\r\n      if (!data) {\r\n        throw new Error('Empty server response.');\r\n      }\r\n\r\n      alert(this.translateResponse(data));\r\n    } catch (err) {\r\n      alert(`Sorry, but an unexpected error was encountered. Please try again later. (${err.message})`);\r\n    } finally {\r\n      this.setState({ disabled: false });\r\n    }\r\n  }\r\n\r\n  translateResponse = (data) => {\r\n    switch (data) {\r\n      case \"Invalid list ID.\":\r\n        return \"Invalid list ID.\";\r\n      case \"Invalid email address.\":\r\n        return \"Your email address is invalid.\";\r\n      case \"Some fields are missing.\":\r\n        return \"Please enter your email address.\";\r\n      case \"Already subscribed.\":\r\n        return \"You're already subscribed!\";\r\n      default:\r\n        return \"Check your e-mail for a confirmation link.\";\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAkDA;AAAA;AACA;AACA;AAFA;AACA;;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAKA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAUA;AAAA;AAAA;AACA;AAXA;AAUA;AAVA;AAAA;AACA;AADA;AAWA;AACA;AAZA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAiBA;AAjBA;AAAA;AACA;AADA;AAAA;AAAA;AAmBA;AACA;AApBA;AAAA;AACA;AAoBA;AAAA;AAAA;AACA;AAtBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAwBA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAVA;AAYA;AACA;;;;;;AA/FA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAlDA;AACA;;;;;A","sourceRoot":""}